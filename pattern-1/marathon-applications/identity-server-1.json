{
  "id": "wso2/is",
  "cmd": null,
  "cpus": 1,
  "mem": 2048,
  "disk": 0,
  "instances": 1,
  "acceptedResourceRoles": [
    "*"
  ],
  "container": {
    "type": "DOCKER",
    "docker": {
      "forcePullImage": false,
      "image": "wso2is:5.4.1",
      "parameters": [],
      "privileged": false
    },
    "volumes": [
      {
        "containerPath": "/home/wso2carbon/wso2is-5.4.1/repository/conf/datasources/bps-datasources.xml",
        "hostPath": "/volumes/wso2/is/repository/conf/datasources/bps-datasources.xml",
        "mode": "RW"
      },
      {
        "containerPath": "/home/wso2carbon/wso2is-5.4.1/repository/conf/datasources/master-datasources.xml",
        "hostPath": "/volumes/wso2/is/repository/conf/datasources/master-datasources.xml",
        "mode": "RW"
      },
      {
        "containerPath": "/home/wso2carbon/wso2is-5.4.1/repository/conf/identity/embedded-ldap.xml",
        "hostPath": "/volumes/wso2/is/repository/conf/identity/embedded-ldap.xml",
        "mode": "RW"
      },
      {
        "containerPath": "/home/wso2carbon/wso2is-5.4.1/repository/conf/identity/identity.xml",
        "hostPath": "/volumes/wso2/is/repository/conf/identity/identity.xml",
        "mode": "RW"
      },
      {
        "containerPath": "/home/wso2carbon/wso2is-5.4.1/repository/conf/user-mgt.xml",
        "hostPath": "/volumes/wso2/is/repository/conf/user-mgt.xml",
        "mode": "RW"
      },
      {
        "containerPath": "/home/wso2carbon/wso2is-5.4.1/repository/components/lib/mysql-connector-java-5.1.34-bin.jar",
        "hostPath": "/volumes/wso2/is/repository/components/lib/mysql-connector-java-5.1.34-bin.jar",
        "mode": "RW"
      }
    ],
    "portMappings": [
      {
        "containerPort": 9763,
        "hostPort": 0,
        "labels": {
          "VIP_0": "/wso2/is:9763"
        },
        "name": "servlet-http",
        "protocol": "tcp",
        "servicePort": 9763
      },
      {
        "containerPort": 9443,
        "hostPort": 0,
        "labels": {
          "VIP_0": "/wso2/is:9443"
        },
        "name": "servlet-https",
        "protocol": "tcp",
        "servicePort": 9443
      }
    ]
  },
  "healthChecks": [
    {
      "gracePeriodSeconds": 300,
      "intervalSeconds": 60,
      "maxConsecutiveFailures": 3,
      "portIndex": 0,
      "protocol": "TCP",
      "timeoutSeconds": 20,
      "delaySeconds": 15
    }
  ],
  "labels": {
    "HAPROXY_GROUP": "external",
    "HAPROXY_1_VHOST": "wso2is",
    "HAPROXY_1_BACKEND_SERVER_OPTIONS": "server {serverName} {host_ipv4}:{port} {cookieOptions} check inter 5s ssl verify none"
  },
  "networks": [
    {
      "mode": "container/bridge"
    }
  ]
}
